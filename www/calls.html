<div class="container my-2">
    <h2>
        <b>Calls</b>
    </h2>
    <section id="tabs" class="administration-tab">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <nav>
                        <div class="nav nav-tabs nav-fill mb-4" id="nav-tab" role="tablist">
                            <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home"
                                aria-selected="true">Inbound Calls</a>
                            <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile"
                                aria-selected="false">Outbound Calls</a>
                            <!-- <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact"
                                aria-selected="false">Project Tab 3</a> -->
                        </div>
                    </nav>
                    <div class="tab-content" id="nav-tabContent">
                        <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                            <div class="table-div">
                                <table id="inboundCall" class="table table-striped table-bordered" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>From</th>
                                            <th>To</th>
                                            <th>Recording</th>
                                        </tr>
                                    </thead>
                                    <tbody id="inbound-data">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                            <div class="table-div">
                                <table id="outboundCall" class="table table-striped table-bordered" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>From</th>
                                            <th>To</th>
                                            <th>Recording</th>
                                        </tr>
                                    </thead>
                                    <tbody id="outbound-data">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<script>

    $(document).ready(function () {
        list_inbound_calls(function (users) {

            users.forEach((item) => {
                $('#inbound-data').append(`<tr>
                <td>${item.date_created}</td>
                <td>${item.from}</td>
                <td>${item.to}</td>
                <td><audio controls >
                <source src="${item.recording}">
                </audio></td>
                </tr>`);

                $('#outbound-data').append(`<tr>
                <td>${item.date_created}</td>
                <td>${item.from}</td>
                <td>${item.to}</td>
                <td><audio controls >
                <source src="${item.recording}">
                </audio></td>
                </tr>`);
            });

            $('#inboundCall').DataTable();
            $('#outboundCall').DataTable();

        });
    });
</script>